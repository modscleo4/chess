/*!
 * Stockfish copyright T. Romstad, M. Costalba, J. Kiiski, G. Linscott
 * and other contributors.
 *
 * Released under the GNU General Public License v3.
 *
 * Compiled to JavaScript and WebAssembly by Niklas Fiekas
 * <niklas.fiekas@backscattering.de> using Emscripten.
 *
 * https://github.com/niklasf/stockfish.wasm
 */

var Stockfish = (function() {
  var _scriptDir = typeof document !== 'undefined' && document.currentScript ? document.currentScript.src : undefined;
  if (typeof __filename !== 'undefined') _scriptDir = _scriptDir || __filename;
  return (
function(Stockfish) {
  Stockfish = Stockfish || {};


function e(){k.buffer!=l&&n(k.buffer);return aa}function p(){k.buffer!=l&&n(k.buffer);return ba}function v(){k.buffer!=l&&n(k.buffer);return ca}function w(){k.buffer!=l&&n(k.buffer);return da}function ea(){k.buffer!=l&&n(k.buffer);return fa}null;var A;A||(A=typeof Stockfish !== 'undefined' ? Stockfish : {});var ha,ia;A.ready=new Promise(function(a,b){ha=a;ia=b});
(function(){function a(){var g=d.shift();if(!b&&void 0!==g){if("quit"===g)return A.terminate();var m=A.ccall("uci_command","number",["string"],[g]);m&&d.unshift(g);h=m?2*h:1;setTimeout(a,h)}}var b=!1,c=[];A.print=function(g){0===c.length?console.log(g):setTimeout(function(){for(var m=0;m<c.length;m++)c[m](g)})};A.addMessageListener=function(g){c.push(g)};A.removeMessageListener=function(g){g=c.indexOf(g);0<=g&&c.splice(g,1)};A.terminate=function(){b=!0;B.Qa()};var d=[],h=1;A.postMessage=function(g){d.push(g)};
A.postRun=function(){A.postMessage=function(g){d.push(g);1===d.length&&a()};a()}})();var C={},E;for(E in A)A.hasOwnProperty(E)&&(C[E]=A[E]);var ja=[],ka="./this.program";function la(a,b){throw b;}var ma=!1,F=!1,G=!1;ma="object"===typeof window;F="function"===typeof importScripts;G="object"===typeof process&&"object"===typeof process.versions&&"string"===typeof process.versions.node;var H=A.ENVIRONMENT_IS_PTHREAD||!1;H&&(l=A.buffer);var I="",J,K,L,M;
if(G){I=F?require("path").dirname(I)+"/":__dirname+"/";J=function(a,b){L||(L=require("fs"));M||(M=require("path"));a=M.normalize(a);return L.readFileSync(a,b?null:"utf8")};K=function(a){a=J(a,!0);a.buffer||(a=new Uint8Array(a));assert(a.buffer);return a};1<process.argv.length&&(ka=process.argv[1].replace(/\\/g,"/"));ja=process.argv.slice(2);process.on("uncaughtException",function(a){if(!(a instanceof N))throw a;});process.on("unhandledRejection",O);la=function(a){process.exit(a)};A.inspect=function(){return"[Emscripten Module object]"};
var na;try{na=require("worker_threads")}catch(a){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),a;}global.Worker=na.Worker}else if(ma||F)F?I=self.location.href:"undefined"!==typeof document&&document.currentScript&&(I=document.currentScript.src),_scriptDir&&(I=_scriptDir),0!==I.indexOf("blob:")?I=I.substr(0,I.lastIndexOf("/")+1):I="",G?(J=function(a,b){L||(L=require("fs"));M||(M=require("path"));a=M.normalize(a);return L.readFileSync(a,
b?null:"utf8")},K=function(a){a=J(a,!0);a.buffer||(a=new Uint8Array(a));assert(a.buffer);return a}):(J=function(a){var b=new XMLHttpRequest;b.open("GET",a,!1);b.send(null);return b.responseText},F&&(K=function(a){var b=new XMLHttpRequest;b.open("GET",a,!1);b.responseType="arraybuffer";b.send(null);return new Uint8Array(b.response)}));G&&"undefined"===typeof performance&&(global.performance=require("perf_hooks").performance);var oa=A.print||console.log.bind(console),Q=console.warn.bind(console);
for(E in C)C.hasOwnProperty(E)&&(A[E]=C[E]);C=null;var pa,noExitRuntime;"object"!==typeof WebAssembly&&O("no native wasm support detected");var k,qa,ra=!1;function assert(a,b){a||O("Assertion failed: "+b)}function sa(a){var b=A["_"+a];assert(b,"Cannot call unknown function "+a+", make sure it is exported");return b}
function ta(a,b,c){c=b+c;for(var d="";!(b>=c);){var h=a[b++];if(!h)break;if(h&128){var g=a[b++]&63;if(192==(h&224))d+=String.fromCharCode((h&31)<<6|g);else{var m=a[b++]&63;h=224==(h&240)?(h&15)<<12|g<<6|m:(h&7)<<18|g<<12|m<<6|a[b++]&63;65536>h?d+=String.fromCharCode(h):(h-=65536,d+=String.fromCharCode(55296|h>>10,56320|h&1023))}}else d+=String.fromCharCode(h)}return d}function R(a){return a?ta(p(),a,void 0):""}
function ua(a,b,c,d){if(0<d){d=c+d-1;for(var h=0;h<a.length;++h){var g=a.charCodeAt(h);if(55296<=g&&57343>=g){var m=a.charCodeAt(++h);g=65536+((g&1023)<<10)|m&1023}if(127>=g){if(c>=d)break;b[c++]=g}else{if(2047>=g){if(c+1>=d)break;b[c++]=192|g>>6}else{if(65535>=g){if(c+2>=d)break;b[c++]=224|g>>12}else{if(c+3>=d)break;b[c++]=240|g>>18;b[c++]=128|g>>12&63}b[c++]=128|g>>6&63}b[c++]=128|g&63}}b[c]=0}}
function va(a){for(var b=0,c=0;c<a.length;++c){var d=a.charCodeAt(c);55296<=d&&57343>=d&&(d=65536+((d&1023)<<10)|a.charCodeAt(++c)&1023);127>=d?++b:b=2047>=d?b+2:65535>=d?b+3:b+4}return b}function wa(a){var b=va(a)+1,c=S(b);ua(a,e(),c,b);return c}function xa(a,b){e().set(a,b)}var l,aa,ba,ca,da,fa;
function n(a){l=a;A.HEAP8=aa=new Int8Array(a);A.HEAP16=new Int16Array(a);A.HEAP32=ca=new Int32Array(a);A.HEAPU8=ba=new Uint8Array(a);A.HEAPU16=new Uint16Array(a);A.HEAPU32=da=new Uint32Array(a);A.HEAPF32=new Float32Array(a);A.HEAPF64=fa=new Float64Array(a)}var ya=67108864;
if(H)k=A.wasmMemory,l=A.buffer;else if(k=new WebAssembly.Memory({initial:ya/65536,maximum:32768,shared:!0}),!(k.buffer instanceof SharedArrayBuffer))throw Q("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),G&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),
Error("bad memory");k&&(l=k.buffer);ya=l.byteLength;n(l);var za,Aa=[],Ba=[],Ca=[],Da=[],T=0,Ea=null,U=null;A.preloadedImages={};A.preloadedAudios={};function O(a){if(A.onAbort)A.onAbort(a);H&&console.error("Pthread aborting at "+Error().stack);Q(a);ra=!0;a=new WebAssembly.RuntimeError("abort("+a+"). Build with -s ASSERTIONS=1 for more info.");ia(a);throw a;}
function Fa(){var a=V;return String.prototype.startsWith?a.startsWith("data:application/octet-stream;base64,"):0===a.indexOf("data:application/octet-stream;base64,")}var V="stockfish.wasm";Fa()||(V=I+V);function Ga(){try{if(K)return K(V);throw"both async and sync fetching of the wasm failed";}catch(a){O(a)}}
function Ha(){return(ma||F)&&"function"===typeof fetch?fetch(V,{credentials:"same-origin"}).then(function(a){if(!a.ok)throw"failed to load wasm binary file at '"+V+"'";return a.arrayBuffer()}).catch(function(){return Ga()}):Promise.resolve().then(Ga)}var Ja={2129:function(a,b){setTimeout(function(){Ia(a,b)},0)},2207:function(){throw"Canceled!";}};
function Ka(a){for(;0<a.length;){var b=a.shift();if("function"==typeof b)b(A);else{var c=b.Ua;"number"===typeof c?void 0===b.xa?za.get(c)():za.get(c)(b.xa):c(void 0===b.xa?null:b.xa)}}}function La(a,b){if(0>=a||a>e().length||a&1||0>b)return-28;if(0==b)return 0;2147483647<=b&&(b=Infinity);var c=Atomics.load(v(),W>>2),d=0;if(c==a&&Atomics.compareExchange(v(),W>>2,c,0)==c&&(--b,d=1,0>=b))return 1;a=Atomics.notify(v(),a>>2,b);if(0<=a)return a+d;throw"Atomics.notify returned an unexpected value "+a;}
A._emscripten_futex_wake=La;function Ma(a){if(H)throw"Internal Error! cleanupThread() can only ever be called from main application thread!";if(!a)throw"Internal Error! Null pthread_ptr in cleanupThread!";v()[a+12>>2]=0;(a=B.ra[a])&&B.Ea(a.worker)}
var B={qa:[],sa:[],Xa:function(){for(var a=0;1>a;++a)B.La()},Ya:function(){for(var a=X(228),b=0;57>b;++b)w()[a/4+b]=0;v()[a+12>>2]=a;b=a+152;v()[b>>2]=b;var c=X(512);for(b=0;128>b;++b)w()[c/4+b]=0;Atomics.store(w(),a+100>>2,c);Atomics.store(w(),a+40>>2,a);Na(a,!F,1);Oa(a)},Za:function(){ha(A);B.receiveObjectTransfer=B.ab;B.setThreadStatus=B.eb;B.threadCancel=B.gb;B.threadExit=B.hb},ub:function(){},ra:{},Sa:[],eb:function(){},Pa:function(){for(;0<B.Sa.length;)B.Sa.pop()();H&&Y()&&Pa()},hb:function(a){var b=
Y();b&&(Atomics.store(w(),b+4>>2,a),Atomics.store(w(),b+0>>2,1),Atomics.store(w(),b+56>>2,1),Atomics.store(w(),b+60>>2,0),B.Pa(),La(b+0,2147483647),Na(0,0,0),H&&postMessage({cmd:"exit"}))},gb:function(){B.Pa();var a=Y();Atomics.store(w(),a+4>>2,-1);Atomics.store(w(),a+0>>2,1);La(a+0,2147483647);Na(0,0,0);postMessage({cmd:"cancelDone"})},Qa:function(){for(var a in B.ra){var b=B.ra[a];b&&b.worker&&B.Ea(b.worker)}B.ra={};for(a=0;a<B.qa.length;++a){var c=B.qa[a];c.terminate()}B.qa=[];for(a=0;a<B.sa.length;++a)c=
B.sa[a],b=c.pa,B.Ka(b),c.terminate();B.sa=[]},Ka:function(a){if(a){if(a.ta){var b=v()[a.ta+100>>2];v()[a.ta+100>>2]=0;Qa(b);Qa(a.ta)}a.ta=0;a.Ia&&a.ua&&Qa(a.ua);a.ua=0;a.worker&&(a.worker.pa=null)}},Ea:function(a){delete B.ra[a.pa.Ra];B.qa.push(a);B.sa.splice(B.sa.indexOf(a),1);B.Ka(a.pa);a.pa=void 0},ab:function(){},Na:function(a,b){a.onmessage=function(c){var d=c.data,h=d.cmd;a.pa&&(B.Ja=a.pa.ta);if(d.targetThread&&d.targetThread!=Y()){var g=B.ra[d.zb];g?g.worker.postMessage(c.data,d.transferList):
console.error('Internal error! Worker sent a message "'+h+'" to target pthread '+d.targetThread+", but that thread no longer exists!")}else if("processQueuedMainThreadWork"===h)Ra();else if("spawnThread"===h)Sa(c.data);else if("cleanupThread"===h)Ma(d.thread);else if("killThread"===h){c=d.thread;if(H)throw"Internal Error! killThread() can only ever be called from main application thread!";if(!c)throw"Internal Error! Null pthread_ptr in killThread!";v()[c+12>>2]=0;c=B.ra[c];c.worker.terminate();B.Ka(c);
B.sa.splice(B.sa.indexOf(c.worker),1);c.worker.pa=void 0}else if("cancelThread"===h){c=d.thread;if(H)throw"Internal Error! cancelThread() can only ever be called from main application thread!";if(!c)throw"Internal Error! Null pthread_ptr in cancelThread!";B.ra[c].worker.postMessage({cmd:"cancel"})}else if("loaded"===h)a.loaded=!0,b&&b(a),a.za&&(a.za(),delete a.za);else if("print"===h)oa("Thread "+d.threadId+": "+d.text);else if("printErr"===h)Q("Thread "+d.threadId+": "+d.text);else if("alert"===
h)alert("Thread "+d.threadId+": "+d.text);else if("exit"===h)a.pa&&Atomics.load(w(),a.pa.Ra+64>>2)&&B.Ea(a);else if("exitProcess"===h)try{Ta(d.returnCode)}catch(m){if(m instanceof N)return;throw m;}else"cancelDone"===h?B.Ea(a):"objectTransfer"!==h&&("setimmediate"===c.data.target?a.postMessage(c.data):Q("worker sent an unknown command "+h));B.Ja=void 0};a.onerror=function(c){Q("pthread sent an error! "+c.filename+":"+c.lineno+": "+c.message)};G&&(a.on("message",function(c){a.onmessage({data:c})}),
a.on("error",function(c){a.onerror(c)}),a.on("exit",function(){}));a.postMessage({cmd:"load",urlOrBlob:A.mainScriptUrlOrBlob||_scriptDir,wasmMemory:k,wasmModule:qa})},La:function(){B.qa.push(new Worker(I+"stockfish.worker.js"))},Va:function(){0==B.qa.length&&(B.La(),B.Na(B.qa[0]));return 0<B.qa.length?B.qa.pop():null},nb:function(a){for(a=performance.now()+a;performance.now()<a;);}};A.establishStackSpace=function(a,b){Ua(a,b);Va(a)};A.getNoExitRuntime=function(){return noExitRuntime};
A.invokeEntryPoint=function(a,b){return za.get(a)(b)};var Wa;Wa=G?function(){var a=process.hrtime();return 1E3*a[0]+a[1]/1E6}:H?function(){return performance.now()-A.__performance_now_clock_drift}:function(){return performance.now()};var Xa=[null,[],[]],Ya={};function Za(a,b,c){return H?Z(2,1,a,b,c):0}function $a(a,b){if(H)return Z(3,1,a,b)}function ab(a,b,c){return H?Z(4,1,a,b,c):0}function bb(a,b,c){if(H)return Z(5,1,a,b,c)}
function cb(){G||F||(pa||(pa={}),pa["Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread"]||(pa["Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread"]=1,Q("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")))}
function db(a,b,c){if(0>=a||a>e().length||a&1)return-28;if(ma){if(Atomics.load(v(),a>>2)!=b)return-6;var d=performance.now();c=d+c;for(Atomics.exchange(v(),W>>2,a);;){d=performance.now();if(d>c)return Atomics.exchange(v(),W>>2,0),-73;d=Atomics.exchange(v(),W>>2,0);if(0==d)break;Ra();if(Atomics.load(v(),a>>2)!=b)return-6;Atomics.exchange(v(),W>>2,a)}return 0}a=Atomics.wait(v(),a>>2,b,c);if("timed-out"===a)return-73;if("not-equal"===a)return-6;if("ok"===a)return 0;throw"Atomics.wait returned an unexpected value "+
a;}function Z(a,b){for(var c=arguments.length-2,d=eb(),h=S(8*c),g=h>>3,m=0;m<c;m++){var r=arguments[2+m];ea()[g+m]=r}c=fb(a,c,h,b);Va(d);return c}var gb=[],hb=[],ib=[0,"undefined"!==typeof document?document:0,"undefined"!==typeof window?window:0];function jb(a){a=2<a?R(a):a;return ib[a]||("undefined"!==typeof document?document.querySelector(a):void 0)}
function kb(a,b,c){var d=jb(a);if(!d)return-4;d.Da&&(v()[d.Da>>2]=b,v()[d.Da+4>>2]=c);if(d.Oa||!d.pb)d.Oa&&(d=d.Oa),a=!1,d.Ca&&d.Ca.Ba&&(a=d.Ca.Ba.getParameter(2978),a=0===a[0]&&0===a[1]&&a[2]===d.width&&a[3]===d.height),d.width=b,d.height=c,a&&d.Ca.Ba.viewport(0,0,b,c);else{if(d.Da){d=v()[d.Da+8>>2];a=a?R(a):"";var h=eb(),g=S(12),m=0;if(a){m=va(a)+1;var r=X(m);ua(a,p(),r,m);m=r}v()[g>>2]=m;v()[g+4>>2]=b;v()[g+8>>2]=c;lb(0,d,657457152,0,m,g);Va(h);return 1}return-4}return 0}
function mb(a,b,c){return H?Z(6,1,a,b,c):kb(a,b,c)}function nb(a){var b=a.getExtension("ANGLE_instanced_arrays");b&&(a.vertexAttribDivisor=function(c,d){b.vertexAttribDivisorANGLE(c,d)},a.drawArraysInstanced=function(c,d,h,g){b.drawArraysInstancedANGLE(c,d,h,g)},a.drawElementsInstanced=function(c,d,h,g,m){b.drawElementsInstancedANGLE(c,d,h,g,m)})}
function ob(a){var b=a.getExtension("OES_vertex_array_object");b&&(a.createVertexArray=function(){return b.createVertexArrayOES()},a.deleteVertexArray=function(c){b.deleteVertexArrayOES(c)},a.bindVertexArray=function(c){b.bindVertexArrayOES(c)},a.isVertexArray=function(c){return b.isVertexArrayOES(c)})}function pb(a){var b=a.getExtension("WEBGL_draw_buffers");b&&(a.drawBuffers=function(c,d){b.drawBuffersWEBGL(c,d)})}
function qb(a){a||(a=rb);if(!a.Wa){a.Wa=!0;var b=a.Ba;nb(b);ob(b);pb(b);b.qb=b.getExtension("EXT_disjoint_timer_query");b.wb=b.getExtension("WEBGL_multi_draw");(b.getSupportedExtensions()||[]).forEach(function(c){0>c.indexOf("lose_context")&&0>c.indexOf("debug")&&b.getExtension(c)})}}var rb,sb=["default","low-power","high-performance"],tb={};
function ub(){if(!vb){var a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"===typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:ka||"./this.program"},b;for(b in tb)a[b]=tb[b];var c=[];for(b in a)c.push(b+"="+a[b]);vb=c}return vb}var vb;
function wb(a,b){if(H)return Z(7,1,a,b);var c=0;ub().forEach(function(d,h){var g=b+c;h=v()[a+4*h>>2]=g;for(g=0;g<d.length;++g)e()[h++>>0]=d.charCodeAt(g);e()[h>>0]=0;c+=d.length+1});return 0}function xb(a,b){if(H)return Z(8,1,a,b);var c=ub();v()[a>>2]=c.length;var d=0;c.forEach(function(h){d+=h.length+1});v()[b>>2]=d;return 0}function yb(a){return H?Z(9,1,a):0}function Ab(a,b,c,d){if(H)return Z(10,1,a,b,c,d);a=Ya.sb(a);b=Ya.rb(a,b,c);v()[d>>2]=b;return 0}
function Bb(a,b,c,d,h){if(H)return Z(11,1,a,b,c,d,h)}function Cb(a,b,c,d){if(H)return Z(12,1,a,b,c,d);for(var h=0,g=0;g<c;g++){for(var m=v()[b+8*g>>2],r=v()[b+(8*g+4)>>2],y=0;y<r;y++){var q=p()[m+y],u=Xa[a];0===q||10===q?((1===a?oa:Q)(ta(u,0)),u.length=0):u.push(q)}h+=r}v()[d>>2]=h;return 0}
function Sa(a){if(H)throw"Internal Error! spawnThread() can only ever be called from main application thread!";var b=B.Va();if(void 0!==b.pa)throw"Internal error!";if(!a.ya)throw"Internal error, no pthread ptr!";B.sa.push(b);for(var c=X(512),d=0;128>d;++d)v()[c+4*d>>2]=0;var h=a.ua+a.va;d=B.ra[a.ya]={worker:b,ua:a.ua,va:a.va,Ia:a.Ia,Ra:a.ya,ta:a.ya};var g=d.ta>>2;Atomics.store(w(),g,0);Atomics.store(w(),g+1,0);Atomics.store(w(),g+2,0);Atomics.store(w(),g+16,a.detached);Atomics.store(w(),g+25,c);Atomics.store(w(),
g+11,0);Atomics.store(w(),g+10,d.ta);Atomics.store(w(),g+20,a.va);Atomics.store(w(),g+19,h);Atomics.store(w(),g+26,a.va);Atomics.store(w(),g+28,h);Atomics.store(w(),g+29,a.detached);Atomics.store(w(),g+31,a.bb);Atomics.store(w(),g+32,a.cb);c=Db()+40;Atomics.store(w(),g+43,c);b.pa=d;var m={cmd:"run",start_routine:a.fb,arg:a.xa,threadInfoStruct:a.ya,stackBase:a.ua,stackSize:a.va};b.za=function(){m.time=performance.now();b.postMessage(m,a.mb)};b.loaded&&(b.za(),delete b.za)}
function Eb(a,b){if(!a)return Q("pthread_join attempted on a null thread pointer!"),71;if(H&&Y()==a)return Q("PThread "+a+" is attempting to join to itself!"),16;if(!H&&Fb()==a)return Q("Main thread "+a+" is attempting to join to itself!"),16;if(v()[a+12>>2]!==a)return Q("pthread_join attempted on thread "+a+", which does not point to a valid thread, or does not exist anymore!"),71;if(Atomics.load(w(),a+64>>2))return Q("Attempted to join thread "+a+", which was already detached!"),28;for(cb();;){var c=
Atomics.load(w(),a+0>>2);if(1==c)return c=Atomics.load(w(),a+4>>2),b&&(v()[b>>2]=c),Atomics.store(w(),a+64>>2,1),H?postMessage({cmd:"cleanupThread",thread:a}):Ma(a),0;if(H){var d=Y();if(d&&!Atomics.load(w(),d+56>>2)&&2==Atomics.load(w(),d+0>>2))throw"Canceled!";}H||Ra();db(a+0,c,H?100:1)}}function Gb(a){return 0===a%4&&(0!==a%100||0===a%400)}function Hb(a,b){for(var c=0,d=0;d<=b;c+=a[d++]);return c}var Ib=[31,29,31,30,31,30,31,31,30,31,30,31],Jb=[31,28,31,30,31,30,31,31,30,31,30,31];
function Kb(a,b){for(a=new Date(a.getTime());0<b;){var c=a.getMonth(),d=(Gb(a.getFullYear())?Ib:Jb)[c];if(b>d-a.getDate())b-=d-a.getDate()+1,a.setDate(1),11>c?a.setMonth(c+1):(a.setMonth(0),a.setFullYear(a.getFullYear()+1));else{a.setDate(a.getDate()+b);break}}return a}
function Lb(a,b,c,d){function h(f,t,x){for(f="number"===typeof f?f.toString():f||"";f.length<t;)f=x[0]+f;return f}function g(f,t){return h(f,t,"0")}function m(f,t){function x(zb){return 0>zb?-1:0<zb?1:0}var P;0===(P=x(f.getFullYear()-t.getFullYear()))&&0===(P=x(f.getMonth()-t.getMonth()))&&(P=x(f.getDate()-t.getDate()));return P}function r(f){switch(f.getDay()){case 0:return new Date(f.getFullYear()-1,11,29);case 1:return f;case 2:return new Date(f.getFullYear(),0,3);case 3:return new Date(f.getFullYear(),
0,2);case 4:return new Date(f.getFullYear(),0,1);case 5:return new Date(f.getFullYear()-1,11,31);case 6:return new Date(f.getFullYear()-1,11,30)}}function y(f){f=Kb(new Date(f.oa+1900,0,1),f.Ha);var t=new Date(f.getFullYear()+1,0,4),x=r(new Date(f.getFullYear(),0,4));t=r(t);return 0>=m(x,f)?0>=m(t,f)?f.getFullYear()+1:f.getFullYear():f.getFullYear()-1}var q=v()[d+40>>2];d={kb:v()[d>>2],jb:v()[d+4>>2],Fa:v()[d+8>>2],Aa:v()[d+12>>2],wa:v()[d+16>>2],oa:v()[d+20>>2],Ga:v()[d+24>>2],Ha:v()[d+28>>2],Ab:v()[d+
32>>2],ib:v()[d+36>>2],lb:q?R(q):""};c=R(c);q={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var u in q)c=c.replace(new RegExp(u,"g"),q[u]);var D="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
z="January February March April May June July August September October November December".split(" ");q={"%a":function(f){return D[f.Ga].substring(0,3)},"%A":function(f){return D[f.Ga]},"%b":function(f){return z[f.wa].substring(0,3)},"%B":function(f){return z[f.wa]},"%C":function(f){return g((f.oa+1900)/100|0,2)},"%d":function(f){return g(f.Aa,2)},"%e":function(f){return h(f.Aa,2," ")},"%g":function(f){return y(f).toString().substring(2)},"%G":function(f){return y(f)},"%H":function(f){return g(f.Fa,
2)},"%I":function(f){f=f.Fa;0==f?f=12:12<f&&(f-=12);return g(f,2)},"%j":function(f){return g(f.Aa+Hb(Gb(f.oa+1900)?Ib:Jb,f.wa-1),3)},"%m":function(f){return g(f.wa+1,2)},"%M":function(f){return g(f.jb,2)},"%n":function(){return"\n"},"%p":function(f){return 0<=f.Fa&&12>f.Fa?"AM":"PM"},"%S":function(f){return g(f.kb,2)},"%t":function(){return"\t"},"%u":function(f){return f.Ga||7},"%U":function(f){var t=new Date(f.oa+1900,0,1),x=0===t.getDay()?t:Kb(t,7-t.getDay());f=new Date(f.oa+1900,f.wa,f.Aa);return 0>
m(x,f)?g(Math.ceil((31-x.getDate()+(Hb(Gb(f.getFullYear())?Ib:Jb,f.getMonth()-1)-31)+f.getDate())/7),2):0===m(x,t)?"01":"00"},"%V":function(f){var t=new Date(f.oa+1901,0,4),x=r(new Date(f.oa+1900,0,4));t=r(t);var P=Kb(new Date(f.oa+1900,0,1),f.Ha);return 0>m(P,x)?"53":0>=m(t,P)?"01":g(Math.ceil((x.getFullYear()<f.oa+1900?f.Ha+32-x.getDate():f.Ha+1-x.getDate())/7),2)},"%w":function(f){return f.Ga},"%W":function(f){var t=new Date(f.oa,0,1),x=1===t.getDay()?t:Kb(t,0===t.getDay()?1:7-t.getDay()+1);f=
new Date(f.oa+1900,f.wa,f.Aa);return 0>m(x,f)?g(Math.ceil((31-x.getDate()+(Hb(Gb(f.getFullYear())?Ib:Jb,f.getMonth()-1)-31)+f.getDate())/7),2):0===m(x,t)?"01":"00"},"%y":function(f){return(f.oa+1900).toString().substring(2)},"%Y":function(f){return f.oa+1900},"%z":function(f){f=f.ib;var t=0<=f;f=Math.abs(f)/60;return(t?"+":"-")+String("0000"+(f/60*100+f%60)).slice(-4)},"%Z":function(f){return f.lb},"%%":function(){return"%"}};for(u in q)0<=c.indexOf(u)&&(c=c.replace(new RegExp(u,"g"),q[u](d)));u=
Mb(c);if(u.length>b)return 0;xa(u,a);return u.length-1}H||B.Xa();var Nb=[null,function(a,b){if(H)return Z(1,1,a,b)},Za,$a,ab,bb,mb,wb,xb,yb,Ab,Bb,Cb];function Mb(a){var b=Array(va(a)+1);ua(a,b,0,b.length);return b}H||Ba.push({Ua:function(){Ob()}});
var Sb={c:function(a,b,c,d){O("Assertion failed: "+R(a)+", at: "+[b?R(b):"unknown filename",c,d?R(d):"unknown function"])},j:Za,F:$a,q:ab,r:bb,D:function(a,b){if(a==b)postMessage({cmd:"processQueuedMainThreadWork"});else if(H)postMessage({targetThread:a,cmd:"processThreadQueue"});else{a=(a=B.ra[a])&&a.worker;if(!a)return;a.postMessage({cmd:"processThreadQueue"})}return 1},b:function(){O()},E:function(a,b){if(0===a)a=Date.now();else if(1===a||4===a)a=Wa();else return v()[Pb()>>2]=28,-1;v()[b>>2]=a/
1E3|0;v()[b+4>>2]=a%1E3*1E6|0;return 0},o:function(a,b,c){hb.length=0;var d;for(c>>=2;d=p()[b++];)(d=105>d)&&c&1&&c++,hb.push(d?ea()[c++>>1]:v()[c]),++c;return Ja[a].apply(null,hb)},y:cb,n:function(){},f:db,e:La,g:Wa,u:function(a,b,c){p().copyWithin(a,b,b+c)},z:function(a,b,c){gb.length=b;c>>=3;for(var d=0;d<b;d++)gb[d]=ea()[c+d];return(0>a?Ja[-a-1]:Nb[a]).apply(null,gb)},d:function(a){a>>>=0;var b=p().length;if(a<=b||2147483648<a)return!1;for(var c=1;4>=c;c*=2){var d=b*(1+.2/c);d=Math.min(d,a+100663296);
d=Math.max(16777216,a,d);0<d%65536&&(d+=65536-d%65536);a:{try{k.grow(Math.min(2147483648,d)-l.byteLength+65535>>>16);n(k.buffer);var h=1;break a}catch(g){}h=void 0}if(h)return!0}return!1},A:function(a,b,c){return jb(a)?kb(a,b,c):mb(a,b,c)},m:function(){},B:function(a,b){b>>=2;var c=v()[b+6];b={alpha:!!v()[b],depth:!!v()[b+1],stencil:!!v()[b+2],antialias:!!v()[b+3],premultipliedAlpha:!!v()[b+4],preserveDrawingBuffer:!!v()[b+5],powerPreference:sb[c],failIfMajorPerformanceCaveat:!!v()[b+7],$a:v()[b+
8],vb:v()[b+9],Ma:v()[b+10],Ta:v()[b+11],xb:v()[b+12],yb:v()[b+13]};a=jb(a);if(!a||b.Ta)b=0;else if(a=a.getContext("webgl",b)){c=X(8);v()[c+4>>2]=Y();var d={tb:c,attributes:b,version:b.$a,Ba:a};a.canvas&&(a.canvas.Ca=d);("undefined"===typeof b.Ma||b.Ma)&&qb(d);b=c}else b=0;return b},w:wb,x:xb,h:function(a){Ta(a)},k:yb,p:Ab,s:Bb,i:Cb,t:function(){B.Ya()},a:k||A.wasmMemory,l:function(a,b,c,d){if("undefined"===typeof SharedArrayBuffer)return Q("Current environment does not support SharedArrayBuffer, pthreads are not available!"),
6;if(!a)return Q("pthread_create called with a null thread pointer!"),28;var h=[];if(H&&0===h.length)return Qb(687865856,a,b,c,d);var g=0,m=0,r=0,y=0;if(b&&-1!=b){var q=v()[b>>2];q+=81920;g=v()[b+8>>2];m=0!==v()[b+12>>2];if(0===v()[b+16>>2]){var u=v()[b+20>>2],D=v()[b+24>>2];var z=B.Ja?B.Ja:Y();r=b+20;y=b+24;if(r||y)if(z)if(v()[z+12>>2]!==z)Q("pthread_getschedparam attempted on thread "+z+", which does not point to a valid thread, or does not exist anymore!");else{var f=Atomics.load(w(),z+104+20>>
2);z=Atomics.load(w(),z+104+24>>2);r&&(v()[r>>2]=f);y&&(v()[y>>2]=z)}else Q("pthread_getschedparam called with a null thread pointer!");r=v()[b+20>>2];y=v()[b+24>>2];v()[b+20>>2]=u;v()[b+24>>2]=D}else r=v()[b+20>>2],y=v()[b+24>>2]}else q=2097152;(b=0==g)?g=Rb(16,q):(g-=q,assert(0<g));u=X(228);for(D=0;57>D;++D)w()[(u>>2)+D]=0;v()[a>>2]=u;v()[u+12>>2]=u;a=u+152;v()[a>>2]=a;c={ua:g,va:q,Ia:b,bb:r,cb:y,detached:m,fb:c,ya:u,xa:d,mb:h};H?(c.ob="spawnThread",postMessage(c,h)):Sa(c);return 0},C:function(a,
b){return Eb(a,b)},v:function(a,b,c,d){return Lb(a,b,c,d)}};
(function(){function a(h,g){A.asm=h.exports;za=A.asm.G;qa=g;if(!H){var m=B.qa.length;B.qa.forEach(function(r){B.Na(r,function(){if(!--m&&(T--,0==T&&(null!==Ea&&(clearInterval(Ea),Ea=null),U))){var y=U;U=null;y()}})})}}function b(h){a(h.instance,h.module)}function c(h){return Ha().then(function(g){return WebAssembly.instantiate(g,d)}).then(h,function(g){Q("failed to asynchronously prepare wasm: "+g);O(g)})}var d={a:Sb};H||(assert(!H,"addRunDependency cannot be used in a pthread worker"),T++);if(A.instantiateWasm)try{return A.instantiateWasm(d,
a)}catch(h){return Q("Module.instantiateWasm callback failed with error: "+h),!1}(function(){return"function"!==typeof WebAssembly.instantiateStreaming||Fa()||"function"!==typeof fetch?c(b):fetch(V,{credentials:"same-origin"}).then(function(h){return WebAssembly.instantiateStreaming(h,d).then(b,function(g){Q("wasm streaming compile failed: "+g);Q("falling back to ArrayBuffer instantiation");return c(b)})})})().catch(ia);return{}})();
var Ob=A.___wasm_call_ctors=function(){return(Ob=A.___wasm_call_ctors=A.asm.H).apply(null,arguments)};A._main=function(){return(A._main=A.asm.I).apply(null,arguments)};var Qa=A._free=function(){return(Qa=A._free=A.asm.J).apply(null,arguments)};A._uci_command=function(){return(A._uci_command=A.asm.K).apply(null,arguments)};A.___em_js__initPthreadsJS=function(){return(A.___em_js__initPthreadsJS=A.asm.L).apply(null,arguments)};
var Db=A._emscripten_get_global_libc=function(){return(Db=A._emscripten_get_global_libc=A.asm.M).apply(null,arguments)},Pb=A.___errno_location=function(){return(Pb=A.___errno_location=A.asm.N).apply(null,arguments)},X=A._malloc=function(){return(X=A._malloc=A.asm.O).apply(null,arguments)},Y=A._pthread_self=function(){return(Y=A._pthread_self=A.asm.P).apply(null,arguments)},Pa=A.___pthread_tsd_run_dtors=function(){return(Pa=A.___pthread_tsd_run_dtors=A.asm.Q).apply(null,arguments)};
A._emscripten_current_thread_process_queued_calls=function(){return(A._emscripten_current_thread_process_queued_calls=A.asm.R).apply(null,arguments)};
var Oa=A._emscripten_register_main_browser_thread_id=function(){return(Oa=A._emscripten_register_main_browser_thread_id=A.asm.S).apply(null,arguments)},Fb=A._emscripten_main_browser_thread_id=function(){return(Fb=A._emscripten_main_browser_thread_id=A.asm.T).apply(null,arguments)},Ia=A._do_emscripten_dispatch_to_thread=function(){return(Ia=A._do_emscripten_dispatch_to_thread=A.asm.U).apply(null,arguments)};
A._emscripten_async_run_in_main_thread=function(){return(A._emscripten_async_run_in_main_thread=A.asm.V).apply(null,arguments)};A._emscripten_sync_run_in_main_thread=function(){return(A._emscripten_sync_run_in_main_thread=A.asm.W).apply(null,arguments)};A._emscripten_sync_run_in_main_thread_0=function(){return(A._emscripten_sync_run_in_main_thread_0=A.asm.X).apply(null,arguments)};
A._emscripten_sync_run_in_main_thread_1=function(){return(A._emscripten_sync_run_in_main_thread_1=A.asm.Y).apply(null,arguments)};A._emscripten_sync_run_in_main_thread_2=function(){return(A._emscripten_sync_run_in_main_thread_2=A.asm.Z).apply(null,arguments)};A._emscripten_sync_run_in_main_thread_xprintf_varargs=function(){return(A._emscripten_sync_run_in_main_thread_xprintf_varargs=A.asm._).apply(null,arguments)};
A._emscripten_sync_run_in_main_thread_3=function(){return(A._emscripten_sync_run_in_main_thread_3=A.asm.$).apply(null,arguments)};var Qb=A._emscripten_sync_run_in_main_thread_4=function(){return(Qb=A._emscripten_sync_run_in_main_thread_4=A.asm.aa).apply(null,arguments)};A._emscripten_sync_run_in_main_thread_5=function(){return(A._emscripten_sync_run_in_main_thread_5=A.asm.ba).apply(null,arguments)};
A._emscripten_sync_run_in_main_thread_6=function(){return(A._emscripten_sync_run_in_main_thread_6=A.asm.ca).apply(null,arguments)};A._emscripten_sync_run_in_main_thread_7=function(){return(A._emscripten_sync_run_in_main_thread_7=A.asm.da).apply(null,arguments)};
var Ra=A._emscripten_main_thread_process_queued_calls=function(){return(Ra=A._emscripten_main_thread_process_queued_calls=A.asm.ea).apply(null,arguments)},fb=A._emscripten_run_in_main_runtime_thread_js=function(){return(fb=A._emscripten_run_in_main_runtime_thread_js=A.asm.fa).apply(null,arguments)},lb=A.__emscripten_call_on_thread=function(){return(lb=A.__emscripten_call_on_thread=A.asm.ga).apply(null,arguments)};
A._emscripten_tls_init=function(){return(A._emscripten_tls_init=A.asm.ha).apply(null,arguments)};
var Na=A.__emscripten_thread_init=function(){return(Na=A.__emscripten_thread_init=A.asm.ia).apply(null,arguments)},eb=A.stackSave=function(){return(eb=A.stackSave=A.asm.ja).apply(null,arguments)},Va=A.stackRestore=function(){return(Va=A.stackRestore=A.asm.ka).apply(null,arguments)},S=A.stackAlloc=function(){return(S=A.stackAlloc=A.asm.la).apply(null,arguments)},Ua=A._emscripten_stack_set_limits=function(){return(Ua=A._emscripten_stack_set_limits=A.asm.ma).apply(null,arguments)},Rb=A._memalign=function(){return(Rb=
A._memalign=A.asm.na).apply(null,arguments)},W=A.__emscripten_main_thread_futex=28108;A.ccall=function(a,b,c,d){var h={string:function(q){var u=0;if(null!==q&&void 0!==q&&0!==q){var D=(q.length<<2)+1,z=u=S(D);ua(q,p(),z,D)}return u},array:function(q){var u=S(q.length);xa(q,u);return u}},g=sa(a),m=[];a=0;if(d)for(var r=0;r<d.length;r++){var y=h[c[r]];y?(0===a&&(a=eb()),m[r]=y(d[r])):m[r]=d[r]}c=g.apply(null,m);c=function(q){return"string"===b?R(q):"boolean"===b?!!q:q}(c);0!==a&&Va(a);return c};
A.PThread=B;A.PThread=B;A._pthread_self=Y;A.wasmMemory=k;A.ExitStatus=N;var Tb;function N(a){this.name="ExitStatus";this.message="Program terminated with exit("+a+")";this.status=a}U=function Ub(){Tb||Vb();Tb||(U=Ub)};
function Vb(a){a=a||ja;if(!(0<T||(H||Ka(Aa),0<T||Tb||(Tb=!0,A.calledRun=!0,ra)))){Ka(Ba);H||Ka(Ca);ha(A);if(A.onRuntimeInitialized)A.onRuntimeInitialized();if(Wb){var b=A._main;a=a||[];var c=a.length+1,d=S(4*(c+1));v()[d>>2]=wa(ka);for(var h=1;h<c;h++)v()[(d>>2)+h]=wa(a[h-1]);v()[(d>>2)+c]=0;try{var g=b(c,d);Ta(g,!0)}catch(m){m instanceof N||("unwind"==m?noExitRuntime=!0:((b=m)&&"object"===typeof m&&m.stack&&(b=[m,m.stack]),Q("exception thrown: "+b),la(1,m)))}finally{}}if(!H){if(A.postRun)for("function"==
typeof A.postRun&&(A.postRun=[A.postRun]);A.postRun.length;)b=A.postRun.shift(),Da.unshift(b);Ka(Da)}}}A.run=Vb;function Ta(a,b){if(!b||!noExitRuntime||0!==a){if(!b&&H)throw postMessage({cmd:"exitProcess",returnCode:a}),new N(a);noExitRuntime||(B.Qa(),ra=!0);la(a,new N(a))}}var Wb=!0;noExitRuntime=!H;H?B.Za():Vb();


  return Stockfish.ready
}
);
})();
if (typeof exports === 'object' && typeof module === 'object')
  module.exports = Stockfish;
else if (typeof define === 'function' && define['amd'])
  define([], function() { return Stockfish; });
else if (typeof exports === 'object')
  exports["Stockfish"] = Stockfish;
